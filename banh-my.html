<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thanh toán món Bánh Mỳ - Nét Huế</title>
    <link rel="stylesheet" href="banh-my.css">
</head>
<body>
    <div class="container">
        <h1>Nét Huế - Thanh Toán Món Bánh Mỳ</h1>
        <div class="food-section">
            <img src="https://cdnmedia.baotintuc.vn/Upload/pTMF1jgWpbjY1m8G1xWUsg/files/2020/03/banhmi/banh-mi-2403202%20(5).jpg" alt="Bánh Mỳ" class="food-image">
            <div class="food-info">
                <h2>Bánh Mỳ</h2>
                <p>Món bánh mì tươi ngon, kèm rau và nước sốt đặc biệt.</p>
                <p><strong>Giá: 25,000 VND</strong></p>
                <label for="quantity">Số lượng: </label>
                <input type="number" id="quantity" value="1" min="1" max="10" onchange="updateTotal()">
                <p><strong>Tổng tiền: </strong><span id="total-price">25,000 VND</span></p>
                
                <div class="discount-box">
                    <label for="discount-code-select">Chọn hoặc nhập mã giảm giá:</label>
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <select id="discount-code-select" onchange="applyDiscount()">
                            <option value="none">Không chọn</option>
                            <option value="GIAM10">GIAM10 - Giảm 10%</option>
                            <option value="GIAM20">GIAM20 - Giảm 20%</option>
                            <option value="FREESHIP">FREESHIP - Miễn phí vận chuyển</option>
                            <option value="HUNG">HUNG - Giảm 50%</option>
                        </select>
                        <input type="text" id="discount-code-input" placeholder="Nhập mã giảm giá" oninput="applyDiscount()">
                    </div>
                </div>

                <p><strong>Tổng tiền sau giảm: </strong><span id="final-price">25,000 VND</span></p>
                
                <label for="address">Nhập địa chỉ giao hàng:</label>
                <input type="text" id="address" placeholder="Nhập địa chỉ của bạn...">
                <button onclick="thanhToan()">Đặt hàng ngay</button>
                <button class="home-btn" onclick="quayVeTrangChu()">Home</button>
            </div>
        </div>

        <div class="suggestions">
            <h2>Món khác</h2>

            <!-- Món 1 -->
            <div class="menu-item">
                <img src="https://cdn.sgtiepthi.vn/wp-content/uploads/2023/07/CA-TRAU-NAU-CHAO-DAU-XANH-2-Custom.jpg" alt="Cháo Cá Lóc">
                <div>
                    <h3>Cháo Cá Lóc</h3>
                    <p>Món cháo cá lóc đậm đà, thơm ngon.</p>
                    <div class="price">65,000 VND</div>
                    <button>Đặt món</button>
                </div>
            </div>

            <!-- Món 2 -->
            <div class="menu-item">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSbKcfxKF3KOux8Ctsev10gCa9YjIItieRGwA&s" alt="Bánh Xèo">
                <div>
                    <h3>Bánh Xèo</h3>
                    <p>Món bánh xèo giòn rụm, nhân tôm thịt.</p>
                    <div class="price">40,000 VND</div>
                    <button>Đặt món</button>
                </div>
            </div>

            <!-- Món 3 -->
            <div class="menu-item">
                <img src="https://photo.znews.vn/w660/Uploaded/tmgtjz/2022_06_14/MOI_Cach_lam_goi_cuon_tom_thit_Ngon_Hap_dan_lai_Healthy.jpeg" alt="Gỏi Cuốn">
                <div>
                    <h3>Gỏi Cuốn</h3>
                    <p>Món gỏi cuốn tươi ngon, thanh mát.</p>
                    <div class="price">30,000 VND</div>
                    <button>Đặt món</button>
                </div>
            </div>
        </div>

        <footer>
            <p>&copy; 2024 Nét Huế. Tất cả quyền được bảo lưu.</p>
        </footer>
    </div>

    <!-- Modal -->
    <div id="successModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2>Đặt hàng thành công!</h2>
            <p>Chi tiết đơn hàng:</p>
            <table>
                <tr>
                    <th>Tên món</th>
                    <th>Số lượng</th>
                    <th>Giá tiền</th>
                </tr>
                <tr>
                    <td>Bánh Mỳ</td>
                    <td id="order-quantity">1</td>
                    <td id="order-price">25,000 VND</td>
                </tr>
            </table>
            <p><strong>Mã giảm giá:</strong> <span id="order-discount-code">Không có</span></p>
            <p><strong>Địa chỉ giao hàng:</strong> <span id="order-address"></span></p>
            <p><strong>Tổng tiền thanh toán:</strong> <span id="order-final-price">25,000 VND</span></p>
        </div>
    </div>

    <script>
        function updateTotal() {
            const quantity = document.getElementById('quantity').value;
            const price = 25000;
            const totalPrice = quantity * price;
            document.getElementById('total-price').innerText = totalPrice.toLocaleString() + " VND";
            applyDiscount();
        }

        function applyDiscount() {
            const quantity = document.getElementById('quantity').value;
            const price = 25000;
            let totalPrice = quantity * price;
            const discountSelect = document.getElementById('discount-code-select').value;
            const discountInput = document.getElementById('discount-code-input').value;

            if (discountSelect === 'GIAM10' || discountInput === 'GIAM10') {
                totalPrice *= 0.90;
            } else if (discountSelect === 'GIAM20' || discountInput === 'GIAM20') {
                totalPrice *= 0.80;
            } else if (discountSelect === 'FREESHIP') {
                // Miễn phí vận chuyển, không giảm giá
            } else if (discountSelect === 'HUNG' || discountInput === 'HUNG') {
                totalPrice *= 0.50;
            }

            document.getElementById('final-price').innerText = totalPrice.toLocaleString() + " VND";
        }

        function thanhToan() {
            const quantity = document.getElementById('quantity').value;
            const totalPrice = document.getElementById('final-price').innerText;
            const address = document.getElementById('address').value;
            const discountCodeSelect = document.getElementById('discount-code-select').value;
            const discountCodeInput = document.getElementById('discount-code-input').value;

            document.getElementById('order-quantity').innerText = quantity;
            document.getElementById('order-price').innerText = (quantity * 25000).toLocaleString() + " VND";
            document.getElementById('order-address').innerText = address;
            document.getElementById('order-final-price').innerText = totalPrice;

            if (discountCodeSelect !== 'none') {
                document.getElementById('order-discount-code').innerText = discountCodeSelect;
            } else if (discountCodeInput) {
                document.getElementById('order-discount-code').innerText = discountCodeInput;
            } else {
                document.getElementById('order-discount-code').innerText = "Không có";
            }

            document.getElementById('successModal').style.display = "block";
        }

        function closeModal() {
            document.getElementById('successModal').style.display = "none";
        }

        function quayVeTrangChu() {
            // Logic quay về trang chủ
            window.location.href = 'file:///C:/Users/Admin/Music/btl_ktpm/restaurant-management-web/Trang_chu.html'; // Đổi link theo trang chính của bạn
        }
    </script>
</body>
</html>
